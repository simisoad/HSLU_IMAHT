@tool
extends Node
@onready var machnr_vs_cd: Array =[Vector2(2.600,.096913),
Vector2(2.590,.097154),
Vector2(2.580,.097397),
Vector2(2.570,.097641),
Vector2(2.560,.097886),
Vector2(2.550,.098133),
Vector2(2.540,.098380),
Vector2(2.530,.098630),
Vector2(2.520,.098881),
Vector2(2.510,.099133),
Vector2(2.500,.099386),
Vector2(2.490,.099642),
Vector2(2.480,.099898),
Vector2(2.470,.100156),
Vector2(2.460,.100416),
Vector2(2.450,.100677),
Vector2(2.440,.100940),
Vector2(2.430,.101204),
Vector2(2.420,.101469),
Vector2(2.410,.101736),
Vector2(2.400,.102005),
Vector2(2.390,.102275),
Vector2(2.380,.102547),
Vector2(2.370,.102821),
Vector2(2.360,.103096),
Vector2(2.350,.103372),
Vector2(2.340,.103651),
Vector2(2.330,.103930),
Vector2(2.320,.104212),
Vector2(2.310,.104495),
Vector2(2.300,.104780),
Vector2(2.290,.105066),
Vector2(2.280,.105355),
Vector2(2.270,.105644),
Vector2(2.260,.105936),
Vector2(2.250,.106229),
Vector2(2.240,.106524),
Vector2(2.230,.106821),
Vector2(2.220,.107120),
Vector2(2.210,.107420),
Vector2(2.200,.107722),
Vector2(2.190,.108026),
Vector2(2.180,.108331),
Vector2(2.170,.108639),
Vector2(2.160,.108948),
Vector2(2.150,.109259),
Vector2(2.140,.109572),
Vector2(2.130,.109887),
Vector2(2.120,.110203),
Vector2(2.110,.110522),
Vector2(2.100,.110842),
Vector2(2.090,.111165),
Vector2(2.080,.111489),
Vector2(2.070,.111815),
Vector2(2.060,.112143),
Vector2(2.050,.112473),
Vector2(2.040,.112805),
Vector2(2.030,.113139),
Vector2(2.020,.113474),
Vector2(2.010,.113812),
Vector2(2.000,.114152),
Vector2(1.990,.114494),
Vector2(1.980,.114837),
Vector2(1.970,.115183),
Vector2(1.960,.115531),
Vector2(1.950,.115881),
Vector2(1.940,.116232),
Vector2(1.930,.116586),
Vector2(1.920,.116942),
Vector2(1.910,.117300),
Vector2(1.900,.117660),
Vector2(1.890,.118022),
Vector2(1.880,.118386),
Vector2(1.870,.118752),
Vector2(1.860,.119120),
Vector2(1.850,.119491),
Vector2(1.840,.119863),
Vector2(1.830,.120238),
Vector2(1.820,.120614),
Vector2(1.810,.120993),
Vector2(1.800,.121373),
Vector2(1.790,.121756),
Vector2(1.780,.122141),
Vector2(1.770,.122528),
Vector2(1.760,.122917),
Vector2(1.750,.123308),
Vector2(1.740,.123701),
Vector2(1.730,.124096),
Vector2(1.720,.124493),
Vector2(1.710,.124893),
Vector2(1.700,.125294),
Vector2(1.690,.125697),
Vector2(1.680,.126102),
Vector2(1.670,.126510),
Vector2(1.660,.126919),
Vector2(1.650,.127330),
Vector2(1.640,.127743),
Vector2(1.630,.128158),
Vector2(1.620,.128575),
Vector2(1.610,.128994),
Vector2(1.600,.129414),
Vector2(1.590,.129837),
Vector2(1.580,.130261),
Vector2(1.570,.130687),
Vector2(1.560,.131114),
Vector2(1.550,.131544),
Vector2(1.540,.131974),
Vector2(1.530,.132407),
Vector2(1.520,.132841),
Vector2(1.510,.133276),
Vector2(1.500,.133713),
Vector2(1.490,.134151),
Vector2(1.480,.134591),
Vector2(1.470,.135031),
Vector2(1.460,.135473),
Vector2(1.450,.135916),
Vector2(1.440,.136360),
Vector2(1.430,.136804),
Vector2(1.420,.137250),
Vector2(1.410,.137696),
Vector2(1.400,.138143),
Vector2(1.390,.138590),
Vector2(1.380,.139038),
Vector2(1.370,.139486),
Vector2(1.360,.139934),
Vector2(1.350,.140381),
Vector2(1.340,.140829),
Vector2(1.330,.141276),
Vector2(1.320,.141723),
Vector2(1.310,.142169),
Vector2(1.300,.142614),
Vector2(1.290,.143047),
Vector2(1.280,.143474),
Vector2(1.270,.143917),
Vector2(1.260,.144403),
Vector2(1.250,.144956),
Vector2(1.240,.145600),
Vector2(1.230,.146360),
Vector2(1.220,.147260),
Vector2(1.210,.148192),
Vector2(1.200,.149031),
Vector2(1.199,.149110),
Vector2(1.198,.149188),
Vector2(1.197,.149265),
Vector2(1.196,.149341),
Vector2(1.195,.149416),
Vector2(1.194,.149491),
Vector2(1.193,.149564),
Vector2(1.192,.149636),
Vector2(1.191,.149708),
Vector2(1.190,.149778),
Vector2(1.189,.149848),
Vector2(1.188,.149917),
Vector2(1.187,.149984),
Vector2(1.186,.150051),
Vector2(1.185,.150117),
Vector2(1.184,.150182),
Vector2(1.183,.150246),
Vector2(1.182,.150309),
Vector2(1.181,.150372),
Vector2(1.180,.150433),
Vector2(1.179,.150493),
Vector2(1.178,.150553),
Vector2(1.177,.150611),
Vector2(1.176,.150669),
Vector2(1.175,.150726),
Vector2(1.174,.150781),
Vector2(1.173,.150836),
Vector2(1.172,.150890),
Vector2(1.171,.150943),
Vector2(1.170,.150995),
Vector2(1.169,.151046),
Vector2(1.168,.151097),
Vector2(1.167,.151146),
Vector2(1.166,.151194),
Vector2(1.165,.151242),
Vector2(1.164,.151288),
Vector2(1.163,.151334),
Vector2(1.162,.151379),
Vector2(1.161,.151422),
Vector2(1.160,.151465),
Vector2(1.159,.151507),
Vector2(1.158,.151548),
Vector2(1.157,.151588),
Vector2(1.156,.151627),
Vector2(1.155,.151665),
Vector2(1.154,.151703),
Vector2(1.153,.151739),
Vector2(1.152,.151774),
Vector2(1.151,.151809),
Vector2(1.150,.151843),
Vector2(1.149,.151875),
Vector2(1.148,.151907),
Vector2(1.147,.151938),
Vector2(1.146,.151968),
Vector2(1.145,.151997),
Vector2(1.144,.152025),
Vector2(1.143,.152052),
Vector2(1.142,.152078),
Vector2(1.141,.152103),
Vector2(1.140,.152127),
Vector2(1.139,.152151),
Vector2(1.138,.152173),
Vector2(1.137,.152195),
Vector2(1.136,.152216),
Vector2(1.135,.152235),
Vector2(1.134,.152254),
Vector2(1.133,.152272),
Vector2(1.132,.152289),
Vector2(1.131,.152305),
Vector2(1.130,.152320),
Vector2(1.129,.152334),
Vector2(1.128,.152347),
Vector2(1.127,.152360),
Vector2(1.126,.152371),
Vector2(1.125,.152382),
Vector2(1.124,.152391),
Vector2(1.123,.152400),
Vector2(1.122,.152408),
Vector2(1.121,.152414),
Vector2(1.120,.152420),
Vector2(1.119,.152425),
Vector2(1.118,.152429),
Vector2(1.117,.152432),
Vector2(1.116,.152434),
Vector2(1.115,.152436),
Vector2(1.114,.152436),
Vector2(1.113,.152435),
Vector2(1.112,.152434),
Vector2(1.111,.152431),
Vector2(1.110,.152428),
Vector2(1.109,.152424),
Vector2(1.108,.152418),
Vector2(1.107,.152412),
Vector2(1.106,.152405),
Vector2(1.105,.152397),
Vector2(1.104,.152388),
Vector2(1.103,.152378),
Vector2(1.102,.152367),
Vector2(1.101,.152356),
Vector2(1.100,.152343),
Vector2(1.099,.152330),
Vector2(1.098,.152315),
Vector2(1.097,.152300),
Vector2(1.096,.152283),
Vector2(1.095,.152266),
Vector2(1.094,.152248),
Vector2(1.093,.152229),
Vector2(1.092,.152209),
Vector2(1.091,.152188),
Vector2(1.090,.152166),
Vector2(1.089,.152143),
Vector2(1.088,.152119),
Vector2(1.087,.152095),
Vector2(1.086,.152069),
Vector2(1.085,.152043),
Vector2(1.084,.152015),
Vector2(1.083,.151987),
Vector2(1.082,.151958),
Vector2(1.081,.151927),
Vector2(1.080,.151896),
Vector2(1.079,.151864),
Vector2(1.078,.151831),
Vector2(1.077,.151797),
Vector2(1.076,.151763),
Vector2(1.075,.151727),
Vector2(1.074,.151690),
Vector2(1.073,.151653),
Vector2(1.072,.151614),
Vector2(1.071,.151575),
Vector2(1.070,.151534),
Vector2(1.069,.151493),
Vector2(1.068,.151451),
Vector2(1.067,.151408),
Vector2(1.066,.151364),
Vector2(1.065,.151319),
Vector2(1.064,.151273),
Vector2(1.063,.151226),
Vector2(1.062,.151178),
Vector2(1.061,.151129),
Vector2(1.060,.151080),
Vector2(1.059,.151029),
Vector2(1.058,.150978),
Vector2(1.057,.150925),
Vector2(1.056,.150872),
Vector2(1.055,.150818),
Vector2(1.054,.150762),
Vector2(1.053,.150707),
Vector2(1.052,.150650),
Vector2(1.051,.150592),
Vector2(1.050,.150533),
Vector2(1.049,.150473),
Vector2(1.048,.150412),
Vector2(1.047,.150351),
Vector2(1.046,.150288),
Vector2(1.045,.150225),
Vector2(1.044,.150160),
Vector2(1.043,.150095),
Vector2(1.042,.150029),
Vector2(1.041,.149962),
Vector2(1.040,.149894),
Vector2(1.039,.149825),
Vector2(1.038,.149755),
Vector2(1.037,.149684),
Vector2(1.036,.149612),
Vector2(1.035,.149539),
Vector2(1.034,.149466),
Vector2(1.033,.149391),
Vector2(1.032,.149316),
Vector2(1.031,.149239),
Vector2(1.030,.149162),
Vector2(1.029,.149084),
Vector2(1.028,.149004),
Vector2(1.027,.148924),
Vector2(1.026,.148843),
Vector2(1.025,.148761),
Vector2(1.024,.148678),
Vector2(1.023,.148595),
Vector2(1.022,.148510),
Vector2(1.021,.148424),
Vector2(1.020,.148338),
Vector2(1.020,.148338),
Vector2(1.019,.148208),
Vector2(1.018,.147995),
Vector2(1.017,.147700),
Vector2(1.016,.147327),
Vector2(1.015,.146877),
Vector2(1.014,.146355),
Vector2(1.013,.145762),
Vector2(1.012,.145100),
Vector2(1.011,.144373),
Vector2(1.010,.143583),
Vector2(1.009,.142732),
Vector2(1.008,.141824),
Vector2(1.007,.140861),
Vector2(1.006,.139845),
Vector2(1.005,.138779),
Vector2(1.004,.137665),
Vector2(1.003,.136507),
Vector2(1.002,.135306),
Vector2(1.001,.134066),
Vector2(1.000,.132789),
Vector2(0.999,.131478),
Vector2(0.998,.130134),
Vector2(0.997,.128762),
Vector2(0.996,.127363),
Vector2(0.995,.125939),
Vector2(0.994,.124495),
Vector2(0.993,.123031),
Vector2(0.992,.121551),
Vector2(0.991,.120058),
Vector2(0.990,.118553),
Vector2(0.989,.117041),
Vector2(0.988,.115522),
Vector2(0.987,.114000),
Vector2(0.986,.112477),
Vector2(0.985,.110956),
Vector2(0.984,.109440),
Vector2(0.983,.107931),
Vector2(0.982,.106431),
Vector2(0.981,.104944),
Vector2(0.980,.103472),
Vector2(0.979,.102017),
Vector2(0.978,.100583),
Vector2(0.977,.099171),
Vector2(0.976,.097784),
Vector2(0.975,.096425),
Vector2(0.974,.095097),
Vector2(0.973,.093802),
Vector2(0.972,.092542),
Vector2(0.971,.091321),
Vector2(0.970,.090141),
Vector2(0.969,.089004),
Vector2(0.968,.087913),
Vector2(0.967,.086871),
Vector2(0.966,.085880),
Vector2(0.965,.084943),
Vector2(0.964,.084063),
Vector2(0.963,.083241),
Vector2(0.962,.082481),
Vector2(0.961,.081786),
Vector2(0.960,.081157),
Vector2(0.959,.080563),
Vector2(0.958,.079970),
Vector2(0.957,.079378),
Vector2(0.956,.078789),
Vector2(0.955,.078201),
Vector2(0.954,.077616),
Vector2(0.953,.077034),
Vector2(0.952,.076454),
Vector2(0.951,.075878),
Vector2(0.950,.075306),
Vector2(0.949,.074737),
Vector2(0.948,.074173),
Vector2(0.947,.073613),
Vector2(0.946,.073058),
Vector2(0.945,.072508),
Vector2(0.944,.071963),
Vector2(0.943,.071424),
Vector2(0.942,.070891),
Vector2(0.941,.070365),
Vector2(0.940,.069845),
Vector2(0.939,.069331),
Vector2(0.933,.068825),
Vector2(0.937,.068327),
Vector2(0.936,.067836),
Vector2(0.935,.067354),
Vector2(0.934,.066880),
Vector2(0.933,.066414),
Vector2(0.932,.065958),
Vector2(0.931,.065511),
Vector2(0.930,.065073),
Vector2(0.929,.064646),
Vector2(0.928,.064228),
Vector2(0.927,.063822),
Vector2(0.926,.063426),
Vector2(0.925,.063041),
Vector2(0.924,.062667),
Vector2(0.923,.062305),
Vector2(0.922,.061955),
Vector2(0.921,.061618),
Vector2(0.920,.061293),
Vector2(0.919,.060981),
Vector2(0.918,.060682),
Vector2(0.917,.060397),
Vector2(0.916,.060126),
Vector2(0.915,.059868),
Vector2(0.914,.059626),
Vector2(0.913,.059397),
Vector2(0.912,.059184),
Vector2(0.911,.058987),
Vector2(0.910,.058804),
Vector2(0.909,.058638),
Vector2(0.908,.058488),
Vector2(0.907,.058355),
Vector2(0.906,.058238),
Vector2(0.905,.058138),
Vector2(0.904,.058056),
Vector2(0.903,.057992),
Vector2(0.902,.057945),
Vector2(0.901,.057917),
Vector2(0.900,.057908),
Vector2(0.899,.057908),
Vector2(0.001,.057908),
Vector2(0.000,.057908)]

@onready var curve2D: Curve2D = %Path2D.curve

@export var curve_created: bool = false

@export var curve: Curve = Curve.new()

var mach_vs_drag_coefficient: Curve = preload("res://Curves/155mmShelMachVSDragCoefficient.tres")

func get_mach_vs_drag_coefficient() -> Curve:
	return mach_vs_drag_coefficient

func _process(delta: float) -> void:
	if Engine.is_editor_hint() and not curve_created:
		curve.clear_points()
		curve.max_value = 0.16
		curve2D.clear_points()
		machnr_vs_cd.reverse()
		for i in machnr_vs_cd.size()-1:
			curve.add_point(Vector2(machnr_vs_cd[i].x/2.6,machnr_vs_cd[i].y))
			curve2D.add_point(Vector2(machnr_vs_cd[i].x*100,machnr_vs_cd[i].y*1000))
		curve_created = true
